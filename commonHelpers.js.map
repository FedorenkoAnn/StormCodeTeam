{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/img/amazon@1x.png","../src/img/app_books@1x.png","../src/js/modal.js","../src/js/variables.js","../src/js/functions.js","../src/js/markup.js","../src/js/bestsellers.js","../src/js/hardcover.js","../src/js/scroll-up.js","../src/js/scrollup-button.js"],"sourcesContent":["import axios from 'axios';\n\n//Перелік категорій книг\n\nasync function getCategoryList() {\n  const categoryList = await axios.get(\n    `https://books-backend.p.goit.global/books/category-list`\n  );\n  return categoryList;\n}\n\n//Популярні книги, що належать до усіх категорій\n\nasync function getTopBooks() {\n  const topBooks = await axios.get(\n    `https://books-backend.p.goit.global/books/top-books`\n  );\n  return topBooks;\n}\n\n// Книги окремої категорії\n\nasync function getByCategoryBooks(paramCategory) {\n  const categoryBooks = await axios.get(\n    `https://books-backend.p.goit.global/books/category?category=${paramCategory}`\n  );\n  return categoryBooks;\n}\n\n// Детальна інформація про книгу\n\nasync function getBookById(paramId) {\n\n  const idBook = await axios.get(\n    `https://books-backend.p.goit.global/books/${paramId}`\n  );\n  return idBook;\n}\n\n\nexport { getCategoryList, getTopBooks, getByCategoryBooks, getBookById };\n\n\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAATCAYAAADI876sAAAABHNCSVQICAgIfAhkiAAAAbtJREFUWIXFVjtOxDAQHSeWtkBCgnqleEtAHICCKyDRxyeg4iJUHGBX622RuAPiBCtBumxJgSigZqiMRqNx4sTx7qsy9uS9mfH4o4DAGIPUbttWSfN+nNuhMY+qqp6UUrcxGhIknZhYqa/3K7oEjTG4WCxuhAR+qL//lsaozZMO6fYhFGuMr7cLPtm2raLVQ8RnTqaUOhobjOdHxHMpUD/PV5B3mRTrfD4/lTglFJRUas8QQsGFOGaz2TG1d7vdW6xWLLTWn3wsVEhNHQDGtV4Mmqb5BoBoDWlfUgxZJAn/iedKeAx/X9JToHePZ8DZHjR6UTD7K4cIK+z7AN9gcVI7VDP7JIVsCPjVx+9b7gMwbdvzFQdjDPYFMBT84ZHC18U1pDDa/yBVt+sVlgp6i1D+kBZPMGc3HBTr9frDOZftpomqknMO67rOXtHlcnmhtd7y8X1oB+Gcw5wr0KWbg5ef6kH4qvtAEPHFWns9dUCr1eqqLMtXRPy11pZT83uMaiFpFVLa0Tn3CAB3nMvr5Gj1JMK+NkTErbX20tubzeYeER+6/qFJ5jxbJiFN3YeHOLyyCMYU4qAnNQD8AbTuLn36hHRPAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAABHNCSVQICAgIfAhkiAAAAgFJREFUWIXtV0GKGkEUfTWTbZNFNoGBBoVG8AYKGVceQgXF5ADiQhQPIIoL8QIDIip4A5chC3OEVteBbALZlS6mfhZDSVdXW13tTEsgedDQXfV+vde/6ldXA//xAhZHWK/X74UQXwA8ALhPMPYzgB+c86dms/n7KhOr1YoSCFqhUqlE6kU2LpfLNzcgUa1WNU2tYbFYpGZAolarKbrvwgSi1D1oUBzN5/OvRPR4A91tvV4vyoe7YI8Q4pGIEHVxzuG6LhzHieyXl+M4cF0XnHMTrxDUVaYjaio8z0OxWNTaAWA2m53vG42G0lcqlV5eebvFfr83pkXJRNjx8Xi8aEAKE5FmIIhCoYDT6aSNbW0ik8kY30DGxCGbzRpNKNMhhIgdMAzbGBPPuCZsBGwyIYQw8oyZsBWIAxFdnwkbE7Yc60xcs1vaxlxt4q3WRKJMpFUdck0wxkBEYEz9bt40E5Jr3Cf+ioV5qUSn06kWWC6Xkc/nzzG+72Oz2Wi8VqsVW6LK5Ewmk0Tl4XkeDocDcrkcdrtdklC02+2z9qtKVH4dfd9PFBdG2MQ3AJ9eNaIdvgcftDPmeDxO/XzX6XQU3btLxFsi8sg/Go1Sy0a3240/8ksMh8OzEbnTxUHuhJe4vV7P/ucniMFg8IEx9pkx9hEJfwOJ6CcRPfX7/V8J4v5h/AGBWIUp7ZLKjwAAAABJRU5ErkJggg==\"","import { getBookById } from './api';\nimport amazon1x from '../img/amazon@1x.png';\nimport app_books1x from '../img/app_books@1x.png';\nconst modalBodyEl = document.querySelector('.modal-body');\nconst backdrop = document.querySelector('.backdrop');\nconst modalCloseBtn = document.querySelector('.modal-close-btn');\nlet addToShoppingListBtn;\nlet shoppingList = [];\n// Використовуйте константу для ключа у локальному сховищі\nconst BOOKS_STORAGE_KEY = 'shoppingList';\nconst savedShoppingList = localStorage.getItem(BOOKS_STORAGE_KEY);\nif (savedShoppingList) {\n  shoppingList = JSON.parse(savedShoppingList);\n}\nmodalCloseBtn.addEventListener('click', closeModal);\ndocument.addEventListener('click', async event => {\n  try {\n    const hardcoverItem =\n      event.target.closest('.hardcover-item') ||\n      event.target.closest('.js-card');\n    if (hardcoverItem) {\n      const id = hardcoverItem.id;\n      const response = await getBookById(id);\n      const bookData = response.data;\n      const truncatedBookData = {\n        _id: bookData._id,\n        book_image: bookData.book_image,\n        title: bookData.title,\n        list_name: bookData.list_name,\n        description: bookData.description,\n        author: bookData.author,\n        buy_links: bookData.buy_links.slice(0, 2),\n      };\n      const markup = markupBook(truncatedBookData);\n      openModal();\n      addMarkup(modalBodyEl, markup);\n      if (addToShoppingListBtn && addToShoppingListBtn.parentNode) {\n        addToShoppingListBtn.parentNode.removeChild(addToShoppingListBtn);\n      }\n      addToShoppingListBtn = document.createElement('button');\n      addToShoppingListBtn.textContent = shoppingList.some(\n        book => book._id === id\n      )\n        ? 'Remove from Shopping List'\n        : 'Add to Shopping List';\n      addToShoppingListBtn.classList.add('add-to-shopping-list-btn');\n      addToShoppingListBtn.addEventListener('click', () => {\n        toggleShoppingList(truncatedBookData);\n      });\n      modalBodyEl.appendChild(addToShoppingListBtn);\n      // Зберігаємо інформацію про книгу в local storage\n      localStorage.setItem(BOOKS_STORAGE_KEY, JSON.stringify(shoppingList));\n    }\n  } catch (error) {\n    console.error(error);\n  }\n});\nbackdrop.addEventListener('click', event => {\n  if (event.target === backdrop) {\n    closeModal();\n  }\n});\ndocument.addEventListener('keydown', event => {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n});\nfunction openModal() {\n  backdrop.style.display = 'block';\n}\nfunction closeModal() {\n  backdrop.style.display = 'none';\n}\nfunction markupBook(book) {\n  const { book_image, list_name, title, author, description } = book;\n  return `<div class=\"image-container\">\n      <img src=\"${book_image}\" alt=\"${list_name}\" />\n    </div>\n    <div class=\"list-container\">\n      <div class=\"list-details\">\n        <h2 class=\"modal-title\">${title}</h2>\n        <p class=\"list-name\">${author}</p>\n      </div>\n        <p class=\"list-descr\">${description}</p>\n        <div class=\"list-links\">\n            <img class=\"icon-amazon\" src=\"${amazon1x}\" alt=\"amazon\" />\n            <img class=\"icon-apple\" src=\"${app_books1x}\" alt=\"app_books\" />\n        </div>\n      </div>\n    </div>\n     `;\n}\nfunction addMarkup(el, markup) {\n  el.innerHTML = markup;\n}\nfunction toggleShoppingList(book) {\n  if (!book || !book._id) {\n    console.error('Invalid book:', book);\n    return;\n  }\n  const index = shoppingList.findIndex(item => item._id === book._id);\n  if (index === -1) {\n    shoppingList.push(book);\n  } else {\n    shoppingList.splice(index, 1);\n  }\n  localStorage.setItem(BOOKS_STORAGE_KEY, JSON.stringify(shoppingList));\n  if (addToShoppingListBtn) {\n    addToShoppingListBtn.textContent = shoppingList.some(\n      item => item._id === book._id\n    )\n      ? 'Remove from Shopping List'\n      : 'Add to Shopping List';\n  }\n}\n","export const viewport = window.visualViewport.width;\nexport const booksList = document.querySelector(\".js-bookslist\");\nexport const topBooks = document.querySelector(\".js-all\");\n","// Best Sellers Books\nimport {viewport} from \"./variables.js\";\n\nexport const bookCount = () => {\n  if(viewport < 768){\n    return 1;\n  }else\n  if(viewport >= 768 && viewport < 1440 ){\n    return 3;\n  }else\n  if(viewport > 1440){\n    return 5;\n  }\n}","// Best Sellers Books\n\nimport {bookCount} from \"./functions.js\";\nexport const createGalleryTopBooks = (arr) => {\n  return `<div/>\n    <h1 class=\"books_galerry-title\">Best Sellers <span class=\"books_galerry-title-subject\">Books</span></h1>\n      ${arr.map(item => {\n        const markup = `\n          <h2 class=\"books_card-heading js-heading\">${item.list_name}</h2>\n          <ul class=\"book_card-list\" >\n              ${item.books.slice(0, bookCount()).map(({ _id, book_image, title, author }) => {\n                return `<li class=\"book_card-item js-card\" id=${_id}>\n                         <div class=\"overlay-wrapper\">\n                           <img\n                             class=\"book_card_photo\"\n                             src=${book_image}\n                             alt= book cover photo ${title}\n                           />\n                          </div>\n                          <h3 class=\"book_card-title\">${title}</h3>\n                          <h4 class=\"book_card_author\">${author}</h4>\n                        </li>`\n              }).join('')\n            }\n          </ul>\n        <div class=\"btn_more\">\n      <button class=\"btn_see-more\" data-category=\"${item.list_name}\">See more</button>\n    </div>`\n    return markup\n    }).join('')\n    }\n  </div>\n`\n}","import { getTopBooks } from \"./api.js\"\nimport { createGalleryTopBooks } from \"./markup.js\"\nimport { booksList, topBooks, viewport } from \"./variables.js\"\n\ngetRandomTopBooks();\n\n// Обробка запиту на сервер та рендер розмітки\n\nasync function getRandomTopBooks() {\n  try {\n    const response = await getTopBooks();\n    const data = response.data;\n    const arrTopBooks = [];\n    let i = 0;\n    for (const el of data) {\n      if (arrTopBooks.length === 4) {\n        break;\n      }\n      i = Math.round(Math.random() * data.length);\n      if (!arrTopBooks.includes(data[i])) {\n        arrTopBooks.push(data[i])\n      }\n    }\n    booksList.innerHTML = createGalleryTopBooks(arrTopBooks);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n// Перезавантаження сторінки при зміні розміру в'юпорту\n\nwindow.onresize = function (event) {\n  const cur_viewport = document.documentElement.clientWidth;\n  if (cur_viewport < 768 && viewport >= 768) {\n    location.reload()\n  } else if (cur_viewport < 1440 && viewport >= 1440) {\n    location.reload()\n  } else if (cur_viewport >= 768 && viewport < 768) {\n    location.reload()\n  } else if(cur_viewport >= 1440 && viewport < 1440) {\n    location.reload()\n  }\n};\n\n// Завантаження домашньої сторінки на кліку на категорію \"All categories\"\n\ntopBooks.addEventListener(\"click\", onTopBooks)\nfunction onTopBooks(evt) {\n  getRandomTopBooks();\n}","import { getByCategoryBooks } from './api.js';\n\nconst allCategoriesList = document.querySelector('.js-list');\nconst categoriesItem = document.querySelectorAll('.js-category');\nconst hardcoverBooksList = document.querySelector('.books-list');\n\nallCategoriesList.addEventListener('click', handleCategoryClick);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const bookCardListSeeMore = document.querySelector('.js-bookslist');\n    bookCardListSeeMore.addEventListener('click', handleSeeMoreClick);\n});\n\nasync function handleCategoryClick(event) {\n    try {\n        if (Array.from(categoriesItem).includes(event.target)) {\n            const category = event.target.textContent.trim(); \n            const booksByCategory = await fetchBooksByCategory(category);\n            renderBooks(category, booksByCategory);\n        }\n    } catch (error) {\n        console.error(error);\n    }\n}\n\nasync function handleSeeMoreClick(event) {\n    if (event.target.classList.contains('btn_see-more')) {\n        try {\n            const category = event.target.dataset.category.trim(); \n            const booksByCategory = await fetchBooksByCategory(category);\n            renderBooks(category, booksByCategory);\n        } catch (error) {\n            console.error(error);\n        }\n    }\n}\n\nasync function fetchBooksByCategory(category) {\n    const response = await getByCategoryBooks(category);\n    return response.data.map(({ _id, book_image, title, author }) => ({\n        _id,\n        book_image,\n        title,\n        author\n    }));\n}\n\nfunction renderBooks(category, booksByCategory) {\n    const markup = createHardcoverMarkup(category, booksByCategory);\n    hardcoverBooksList.innerHTML = markup;\n}\n\nfunction createHardcoverMarkup(category, booksByCategory) {\n    const categoryTitle = `<h2 class=\"hardcover-category-title\">${category.replace(/(\\w+)\\s*$/, '<span class=\"book-categories-span\">$1</span>')}</h2>`;\n    const booksByCategoryMarkup = booksByCategory.map(({ _id, book_image, title, author }) =>\n        `<li class=\"hardcover-item\" id=${_id}>         \n            <div class=\"hardcover-container\">\n                <div class=\"hardcover-wrapper\">\n                    <img class=\"hardcover-image\" src=\"${book_image}\"/>\n                    <div class=\"hardcover-text-container\">\n                        <h2 class=\"hardcover-title\">${title}</h2>\n                        <p class=\"hardcover-text\">${author}</p>\n                    </div>\n                </div>\n            </div>\n        </li>`\n    ).join('');\n    return categoryTitle + '<ul class=\"hardcover-list\">' + booksByCategoryMarkup + '</ul>';\n}","const goTopBtn = document.querySelector('.back-to-top');\n\nwindow.addEventListener('scroll', trackScroll);\ngoTopBtn.addEventListener('click', goTop);\n\nfunction trackScroll() {\n  const scrolled = window.pageYOffset;\n  const coords = document.documentElement.clientHeight;\n\n  if (scrolled > coords) {\n    goTopBtn.classList.add('back-to-top--show');\n  } else {\n    goTopBtn.classList.remove('back-to-top--show');\n  }\n}\n\nfunction goTop() {\n  if (window.pageYOffset > 0) {\n    window.scrollBy(0, -25);\n    setTimeout(goTop, 0);\n  }\n}\n","import throttle from 'lodash.throttle';\n\nconst scrollUpBtnEl = document.querySelector('.scroll-up');\nscrollUpBtnEl.addEventListener('click', onScrollUpClick);\n\nfunction onScrollUpClick() {\n  window.scrollTo({\n    top: 0,\n    left: 0,\n    behavior: 'smooth',\n  });\n}\nwindow.addEventListener('scroll', throttle(showScrollUpButton, 1000));\n\nfunction showScrollUpButton(event) {\n  const scrollY = window.scrollY || document.documentElement.scrollTop;\n  scrollY > 300 ? showScrollUpBtn() : hideScrollUpBtn();\n}\n\nfunction hideScrollUpBtn() {\n  scrollUpBtnEl.classList.add('is-hidden');\n}\n\nfunction showScrollUpBtn() {\n  scrollUpBtnEl.classList.remove('is-hidden');\n}\n"],"names":["getTopBooks","axios","getByCategoryBooks","paramCategory","getBookById","paramId","amazon1x","app_books1x","modalBodyEl","backdrop","modalCloseBtn","addToShoppingListBtn","shoppingList","BOOKS_STORAGE_KEY","savedShoppingList","closeModal","event","hardcoverItem","id","bookData","truncatedBookData","markup","markupBook","openModal","addMarkup","book","toggleShoppingList","error","book_image","list_name","title","author","description","el","index","item","viewport","booksList","topBooks","bookCount","createGalleryTopBooks","arr","_id","getRandomTopBooks","data","arrTopBooks","i","err","cur_viewport","onTopBooks","evt","allCategoriesList","categoriesItem","hardcoverBooksList","handleCategoryClick","handleSeeMoreClick","category","booksByCategory","fetchBooksByCategory","renderBooks","createHardcoverMarkup","categoryTitle","booksByCategoryMarkup","goTopBtn","trackScroll","goTop","scrolled","coords","scrollUpBtnEl","onScrollUpClick","throttle","showScrollUpButton","showScrollUpBtn","hideScrollUpBtn"],"mappings":"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"}