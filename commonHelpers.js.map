{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/hardcover.js"],"sourcesContent":["import axios from \"axios\";\n\n//Перелік категорій книг\n\nasync function getCategoryList(){\n  const categoryList = await axios.get(`https://books-backend.p.goit.global/books/category-list`);\n  return categoryList;\n}\n\n//Популярні книги, що належать до усіх категорій\n\nasync function getTopBooks(){\n  const topBooks = await axios.get(`https://books-backend.p.goit.global/books/top-books`);\n  return topBooks;\n}\n\n// Книги окремої категорії\n\nasync function getByCategoryBooks(paramCategory){\n  const categoryBooks = await axios.get(`https://books-backend.p.goit.global/books/category?category=${paramCategory}`);\n  return categoryBooks;\n}\n\n// Детальна інформація про книгу\n\nasync function getByIdBook(paramId){\n  const idBook = await axios.get(`https://books-backend.p.goit.global/books/${paramId}`);\n  return idBook;\n}\n\nexport { getCategoryList, getTopBooks, getByCategoryBooks, getByIdBook };","import { getByCategoryBooks } from './api.js';\n\nconst allCategoriesBtn = document.querySelector('.test-button');\nconst hardcoverBooksList = document.querySelector('.books-list');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const isButtonHidden = localStorage.getItem('isButtonHidden');\n    if (isButtonHidden === 'true') {\n        allCategoriesBtn.style.display = 'none';\n    }\n});\n\nallCategoriesBtn.addEventListener('click', async () => {\n    try {\n        const category = 'Hardcover Fiction'; \n        const response = await getByCategoryBooks(category);\n        const books = response.data;\n        console.log(books);\n\n        const booksByCategory = books.map(({ book_image, title, author }) => ({\n            book_image,\n            title,\n            author\n        }));\n        const markup = createHardcoverMarkup(category, booksByCategory);\n\n        hardcoverBooksList.innerHTML = markup;\n\n        localStorage.setItem('isButtonHidden', 'true');\n        allCategoriesBtn.style.display = 'none';\n    } catch (error) {\n        console.error(error);\n    }\n});\n\nfunction createHardcoverMarkup(category, booksByCategory) {\n    const categoryTitle = `<h2 class=\"hardcover-category-title\">${category.replace(/(\\w+)/g, (match, p1, offset) => offset === 0 ? match : `<span class=\"book-categories-span\">${match}</span>`)}</h2>`;\n    const booksMarkup = booksByCategory.map(({ book_image, title, author }) =>\n        `<li class=\"hardcover-item\">         \n            <div class=\"hardcover-container\">\n                <div class=\"hardcover-wrapper\">\n                    <img class=\"hardcover-image\" src=\"${book_image}\"/>\n                    <div class=\"hardcover-text-container\">\n                        <h2 class=\"hardcover-title\">${title}</h2>\n                        <p class=\"hardcover-text\">${author}</p>\n                    </div>\n                </div>\n            </div>\n        </li>`\n    ).join('');\n    return categoryTitle + '<ul class=\"hardcover-list\">' + booksMarkup + '</ul>';\n}"],"names":["getByCategoryBooks","paramCategory","axios","allCategoriesBtn","hardcoverBooksList","category","books","booksByCategory","book_image","title","author","markup","createHardcoverMarkup","error","categoryTitle","match","p1","offset","booksMarkup"],"mappings":"svBAkBA,eAAeA,EAAmBC,EAAc,CAE9C,OADsB,MAAMC,EAAM,IAAI,+DAA+DD,CAAa,EAAE,CAEtH,CCnBA,MAAME,EAAmB,SAAS,cAAc,cAAc,EACxDC,EAAqB,SAAS,cAAc,aAAa,EAE/D,SAAS,iBAAiB,mBAAoB,IAAM,CACzB,aAAa,QAAQ,gBAAgB,IACrC,SACnBD,EAAiB,MAAM,QAAU,OAEzC,CAAC,EAEDA,EAAiB,iBAAiB,QAAS,SAAY,CACnD,GAAI,CACA,MAAME,EAAW,oBAEXC,GADW,MAAMN,EAAmBK,CAAQ,GAC3B,KACvB,QAAQ,IAAIC,CAAK,EAEjB,MAAMC,EAAkBD,EAAM,IAAI,CAAC,CAAE,WAAAE,EAAY,MAAAC,EAAO,OAAAC,MAAc,CAClE,WAAAF,EACA,MAAAC,EACA,OAAAC,CACH,EAAC,EACIC,EAASC,EAAsBP,EAAUE,CAAe,EAE9DH,EAAmB,UAAYO,EAE/B,aAAa,QAAQ,iBAAkB,MAAM,EAC7CR,EAAiB,MAAM,QAAU,MACpC,OAAQU,EAAO,CACZ,QAAQ,MAAMA,CAAK,CACtB,CACL,CAAC,EAED,SAASD,EAAsBP,EAAUE,EAAiB,CACtD,MAAMO,EAAgB,wCAAwCT,EAAS,QAAQ,SAAU,CAACU,EAAOC,EAAIC,IAAWA,IAAW,EAAIF,EAAQ,sCAAsCA,CAAK,SAAS,CAAC,QACtLG,EAAcX,EAAgB,IAAI,CAAC,CAAE,WAAAC,EAAY,MAAAC,EAAO,OAAAC,CAAQ,IAClE;AAAA;AAAA;AAAA,wDAGgDF,CAAU;AAAA;AAAA,sDAEZC,CAAK;AAAA,oDACPC,CAAM;AAAA;AAAA;AAAA;AAAA,cAK1D,EAAM,KAAK,EAAE,EACT,OAAOI,EAAgB,8BAAgCI,EAAc,OACzE"}