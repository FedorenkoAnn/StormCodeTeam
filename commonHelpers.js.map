{"version":3,"file":"commonHelpers.js","sources":["../src/js/header.js","../src/js/sidebar.js","../src/js/api.js","../src/js/hardcover.js","../src/js/shopping-list.js","../src/js/modal.js"],"sourcesContent":["  document.addEventListener('DOMContentLoaded', function () {\n    var toggleSwitch = document.querySelector('.switch input');\n\n    toggleSwitch.addEventListener('change', function () {\n      if (toggleSwitch.checked) {\n        document.body.classList.add('dark-mode');\n      } else {\n        document.body.classList.remove('dark-mode');\n      }\n          \n    });\n  });\n var navLinks = document.querySelectorAll('.nav-link');\n   navLinks.forEach(function (navLink) {\n      navLink.addEventListener('click', function () {\n        navLinks.forEach(function (link) {\n          link.classList.remove('is-active');\n        });\n\n        navLink.classList.add('is-active');\n      });\n    });","import Swiper from 'swiper/bundle';\n\nimport 'swiper/css/bundle';\n\nconst swiper = new Swiper('.swiper-container', {\n  slidesPerView: 6,\n  spaceBetween: 20,\n  direction: 'vertical',\n  speed: 400,\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n});\n","import axios from 'axios';\n\n//Перелік категорій книг\n\nasync function getCategoryList() {\n  const categoryList = await axios.get(\n    `https://books-backend.p.goit.global/books/category-list`\n  );\n  return categoryList;\n}\n\n//Популярні книги, що належать до усіх категорій\n\nasync function getTopBooks() {\n  const topBooks = await axios.get(\n    `https://books-backend.p.goit.global/books/top-books`\n  );\n  return topBooks;\n}\n\n// Книги окремої категорії\n\nasync function getByCategoryBooks(paramCategory) {\n  const categoryBooks = await axios.get(\n    `https://books-backend.p.goit.global/books/category?category=${paramCategory}`\n  );\n  return categoryBooks;\n}\n\n// Детальна інформація про книгу\n\nasync function getBookById(paramId) {\n\n  const idBook = await axios.get(\n    `https://books-backend.p.goit.global/books/${paramId}`\n  );\n  return idBook;\n}\n\n\nexport { getCategoryList, getTopBooks, getByCategoryBooks, getBookById };\n\n\n","import { getByCategoryBooks } from './api.js';\n\nconst allCategoriesList = document.querySelector('.js-list');\nconst categoriesItem = document.querySelectorAll('.js-category');\nconst hardcoverBooksList = document.querySelector('.books-list');\n\n// document.addEventListener('DOMContentLoaded', () => {\n//     const isButtonHidden = localStorage.getItem('isButtonHidden');\n//     if (isButtonHidden === 'true') {\n//         allCategoriesList.style.display = 'none';\n//     }\n// });\n\nallCategoriesList.addEventListener('click', async (event) => {\n    try {\n        if (Array.from(categoriesItem).includes(event.target)) {\n            const category = event.target.textContent.trim(); \n            const response = await getByCategoryBooks(category);\n            const books = response.data; \n            console.log(books);\n\n            const booksByCategory = books.map(({ _id, book_image, title, author }) => ({\n                book_image,\n                title,\n                author,\n                _id\n            }));\n            const markup = createHardcoverMarkup(category, booksByCategory);\n\n            hardcoverBooksList.innerHTML = markup;\n\n            localStorage.setItem('isButtonHidden', 'true');\n        }\n    } catch (error) {\n        console.error(error);\n    }\n});\n\nfunction createHardcoverMarkup(category, booksByCategory) {\n    const categoryTitle = `<h2 class=\"hardcover-category-title\">${category.replace(/(\\w+)/g, (match, p1, offset) => offset === 0 ? match : `<span class=\"book-categories-span\">${match}</span>`)}</h2>`;\n    const booksByCategoryMarkup = booksByCategory.map(({ _id, book_image, title, author }) =>\n        `<li class=\"hardcover-item\" id=${_id}>         \n            <div class=\"hardcover-container\">\n                <div class=\"hardcover-wrapper\">\n                    <img class=\"hardcover-image\" src=\"${book_image}\"/>\n                    <div class=\"hardcover-text-container\">\n                        <h2 class=\"hardcover-title\">${title}</h2>\n                        <p class=\"hardcover-text\">${author}</p>\n                    </div>\n                </div>\n            </div>\n        </li>`\n    ).join('');\n    return categoryTitle + '<ul class=\"hardcover-list\">' + booksByCategoryMarkup + '</ul>';\n}","import { getBookById } from './api';\n\ngetBookById('643282b1e85766588626a0dc')\n  .then(response => {\n    const book = response.data;\n    const {\n      _id,\n      book_image,\n      title,\n      list_name,\n      description,\n      author,\n      buy_links,\n    } = book;\n\n    const selectedLinks = buy_links.slice(0, 2);\n\n    const bookData = {\n      id: _id,\n      book_image,\n      title,\n      list_name,\n      description,\n      author,\n      selectedLinks,\n    };\n\n    localStorage.setItem('bookData', JSON.stringify(bookData));\n\n    function removeBookFromLS() {\n      const storedData = JSON.parse(localStorage.getItem('bookData')) || {};\n      if (storedData.id === bookData.id) {\n        localStorage.removeItem('bookData');\n      }\n    }\n    removeBookFromLS();\n  })\n  .catch(error => {\n    console.log('Error:', error);\n  });\n\nconst showSLbtn = document.querySelector('.js-btn');\nconst textParagraph = document.querySelector('.empty-list-text');\nconst bookPlace = document.querySelector('.shopping-list-js');\nconsole.log(bookPlace);\n\nshowSLbtn.addEventListener('click', onButtonClick);\n\nfunction onButtonClick(e) {\n  e.preventDefault();\n  if (!localStorage.length) {\n    textParagraph.textContent =\n      'This page is empty, add some books and proceed to order.';\n  } else {\n  }\n}\n\nfunction bookTemplate() {\n  return `\n      <div class=\"book-body\">\n        \n      </div>`;\n}\n\nfunction renderBooks() {\n  const markup = elems.map(elem => bookTemplate(elem)).join('');\n  bookPlace.innerHTML = markup;\n}\n","const modalCloseBtn = document.querySelector('.modal-close-btn');\nconst backdrop = document.querySelector('.backdrop');\nfunction closeModal() {\n  const backdrop = document.querySelector('.backdrop');\n  backdrop.style.display = 'none';\n}\n\nmodalCloseBtn.addEventListener('click', () => {\n  closeModal();\n});\n\nfunction openModal() {\n  const backdrop = document.querySelector('.backdrop');\n  backdrop.style.display = 'block';\n}\nfunction toggleShoppingList() {\n  const shoppingListButton = document.querySelector('.shopping-list');\n  if (shoppingListButton.textContent === 'Add to shopping list') {\n    shoppingListButton.textContent = 'Remove from the shopping list';\n  } else {\n    shoppingListButton.textContent = 'Add to shopping list';\n  }\n}\ndocument\n  .querySelector('.shopping-list')\n  .addEventListener('click', toggleShoppingList);\n\nfunction darkTheme() {\n  const modalCloseBtnIcon = document.querySelector('modal-close-btn-icon use');\n  const modalContentElem = document.querySelector('.modal-content');\n  const titleElem = document.querySelector('.title');\n  const listNameElem = document.querySelector('.list-name');\n  const listDescrElem = document.querySelector('.list-descr');\n  const shoppingListElem = document.querySelector('.shopping-list');\n  const modalBottomTextElem = document.querySelector('.modal-bottom-text');\n\n  // modalCloseBtnIcon.setAttribute('href', './img/icons.svg#icon-close-white');\n  modalContentElem.style.backgroundColor = 'rgb(208, 208, 208)';\n  titleElem.style.color = 'rgb(255, 255, 255)';\n  listNameElem.style.color = 'rgb(255, 255, 255)';\n  listDescrElem.style.color = 'rgb(255, 255, 255)';\n  shoppingListElem.style.color = 'rgb(255, 255, 255)';\n  modalBottomTextElem.style.color = 'rgb(255, 255, 255)';\n}\n// darkTheme();\n"],"names":["toggleSwitch","navLinks","navLink","link","Swiper","getByCategoryBooks","paramCategory","axios","getBookById","paramId","allCategoriesList","categoriesItem","hardcoverBooksList","event","category","books","booksByCategory","_id","book_image","title","author","markup","createHardcoverMarkup","error","categoryTitle","match","p1","offset","booksByCategoryMarkup","response","book","list_name","description","buy_links","selectedLinks","bookData","removeBookFromLS","showSLbtn","textParagraph","bookPlace","onButtonClick","modalCloseBtn","closeModal","backdrop","toggleShoppingList","shoppingListButton"],"mappings":"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"}